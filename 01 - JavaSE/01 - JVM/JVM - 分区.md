JVM 有哪些分区？

方法区（S）     虚拟机栈  （A）    本地方法栈 (A)

堆    (S)     程序计数器 （A）



程序计数器 Java虚拟机栈 本地方法栈 堆 方法区

Java栈中存放的是一个一个的栈帧，每一个栈帧对应一个被调用的方法。
（栈帧包括局部变量表，操作数栈，方法的返回地址，指向当前方法所属的类的运行时常量池的引用，附加信息）
JVM中只有一个栈。方法区中最重要的是运行时常量池。


运行时数据区包括：虚拟机栈区，堆区，方法区，本地方法栈，程序计数器

`虚拟机栈区` ：也就是我们常说的栈区，`线程私有`，存放基本类型，对象的引用和 returnAddress ，在编译期间完成分配。
`堆区` ， JAVA 堆，也称 GC 堆，所有`线程共享`，存放对象的实例和数组， JAVA 堆是垃圾收集器管理的主要区域。
  按对象存活周期的不同将内存划为新生代(Eden ,From Survivor ,to Survivor)和老年代
`方法区` ：所有`线程共享`，存储已被虚拟机加载的类信息，常量，静态变量，即时编译器编译后的代码等数据。这个区域的内存回收目标主要是针对常量池的对象的回收和对类型的卸载。
`本地方法栈` : `线程私有`
`程序计数器` ：`线程私有`，每个线程都有自己独立的程序计数器，用来指示下一条指令的地址。


### 内存分配策略
  1. 对象优先在Eden分配
    当Eden区没有足够空间进行分配时，虚拟机发起一次MinorGC
  2. 大对象直接进入老年代
    很长的字符串，数组
  3. 长期存活的对象将进入老年代
  4. 动态对象年龄判定
  5. 空间分配担保
