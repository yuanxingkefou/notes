
Linux系统下有多种权限控制，一般为：可执行、可读、可写，如何快速在命令行下给相应文件或文件夹赋予相应权限呢？

# chmod

## 语法

> chmod [选项][参数]

## 详解

chmod命令用于改变文件或目录的权限，设置权限有字符和数字两种设定方法。
在数字设定法中，0表示没有权限，1表示可执行权限，2表示可写权限，4表示可读权限，以上数字相加所得到的数最最终权限。如可写可读为6，可执行和可读为5权限。
在英文设定法中，r表示可读权限，w表示可写权限，x表示可执行权限，-表示无任何权限。



## 选项说明

| 选项 | 相应功能 |
| ---- | ---- |
| u   | 操作对象简称，用户user，文件或目录的所有者。 |
| g   | 操作对象简称，同组用户group，文件或目录所属群组 |
| o   | 操作对象简称，其它用户others |
| a   | 操作对象简称，所有用户all，系统默认使用此项 |
| +   | 权限操作符，添加某些权限 |
| -   | 权限操作符，取消某些权限 |
| =   | 权限操作符，设置文件的权限为给定的权限 |
| r   | 权限设定（英文），表示可读权限 |
| w   | 权限设定（英文），表示可写权限 |
| x   | 权限设定（英文），表示可执行权限 |
| -   | 权限设定（英文字符），表示没有权限 |
| X   | 权限设定，如果目标文件是可执行文件或目录，可给其设置可执行权限 |
| s   | 权限设定，设置权限suid和sgid，使用权限组合“u+s”设定文件的用户的ID位，“g+s”设置组ID位 |
| t   | 权限设定，只有目录或文件的所有者才可以删除目录下的文件 |
| -c  | 如果文件权限已经改变，显示其操作信息 |
| -f  | 操作过程中不显示任何错误信息 |
| -R  | 修改指定目录下所有文件或子目录的权限 |
| -v  | 显示命令运行时的详细执行过程 |
| --help  | 显示帮助信息 |
| --version  | 显示版本信息 |

## 参数说明


| 参数        | 相应功能          |
| ---------- | ------------- |
| 文件        | 指定改变权限的文件或目录的名称。 |


# 例子

将`/home/wwwroot/`里的所有文件和文件夹设置为`755`权限

(1)直接指定路径修改

```bash
chmod -R  755 /home/wwwroot/*
```

(2)手动进入该目录修改权限（并显示详细过程）
```bash
cd /home/wwwroot
chmod -Rv  755 *       #注意：“*”表示通配符，指的是所有文件和文件
sudo chmod o+rw /shared #设置文件夹权限以保证其余用户可以访问它。
```

### 常用的linux文件权限：
444 r--r--r--
600 rw-------
644 rw-r--r--
666 rw-rw-rw-
700 rwx------
744 rwxr--r--
755 rwxr-xr-x
777 rwxrwxrwx
从左至右，1-3位数字代表文件所有者的权限，4-6位数字代表同组用户的权限，7-9数字代表其他用户的权限。
而具体的权限是由数字来表示的，读取的权限等于4，用r表示；写入的权限等于2，用w表示；执行的权限等于1，用x表示；
通过4、2、1的组合，得到以下几种权限：0（没有权限）；4（读取权限）；5（4+1 | 读取+执行）；6（4+2 | 读取+写入）；7（4+2+1 | 读取+写入+执行）
以755为例：
1-3位7等于4+2+1，rwx，所有者具有读取、写入、执行权限；
4-6位5等于4+1+0，r-x，同组用户具有读取、执行权限但没有写入权限；
7-9位5，同上，也是r-x，其他用户具有读取、执行权限但没有写入权限。

rwx权限数字解释
chmod也可以用数字来表示权限如 chmod 777 file
语法为：chmod abc file
其中a,b,c各为一个数字，分别表示User、Group、及Other的权限。
r=4，w=2，x=1
若要rwx属性则4+2+1=7；
若要rw-属性则4+2=6；
若要r-x属性则4+1=7。
范例：
chmod a=rwx file
和
chmod 777 file
效果相同
chmod ug=rwx,o=x file
和
chmod 771 file
效果相同
若用chmod 4755 filename可使此程序具有root的权限
